#!/bin/bash

LINUX=${1:-void}

mkdir -p "$HOME/.config/zsh"
mkdir -p "$HOME/.texmf"
mkdir -p "$HOME/.cpan/build"
mkdir -p "$HOME/.config/zprofile"
mkdir -p "$HOME/.config/zsh_post"



_stow(){
  # from at ~/stow/zsh/*
  # to: where we store new files
  local from="${1:-}"
  local to="${2:-$HOME/.config/zsh}"

  if [ -z "$from" ]; then
    # should select an directory inside ~/stow
    echo "   no dir selected"
    exit 1
  fi

  if [[ -d "$HOME/stow/zsh/$from" ]];then
    stow --dir="$HOME/stow/zsh" --target="$to" "$from"
  fi
}


# stow_init
_stow init     "$HOME"
_stow zprofile "$HOME/.config/zprofile"
_stow zsh_post "$HOME/.config/zsh_post"
_stow universe

case "$LINUX" in
  termux) _stow termux ;;
  void) _stow void ;;
  *) echo "$LINUX not define" ;;
esac
